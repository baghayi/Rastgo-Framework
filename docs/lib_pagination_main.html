<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>مستندات فریمورک راستگو</title>
  <meta name="description" content="The documentation of the Rastgo Framework" />
  <meta name="author" content="Rastgo Framework" />

  <meta name="viewport" content="width=device-width; initial-scale=1.0" />
  <link href="includes/stylesheet.css" rel="stylesheet" type="text/css" />
  <script src="includes/javascript.js" type="text/javascript"></script>
</head>

<body>
  <div>
    <header>
      <h1 id="title" title='Pagination'>Pagination</h1>
    </header>
    
    <nav>
      <h3><a href="index.html">صفحه اصلی</a></h3>
      <h3><a href="library.html">کتابخانه فریمورک</a></h3>
      <h3><a href="core.html">هسته فریمورک</a></h3>
      <h3><a href="others.html">بخش های دیگر</a></h3>
    </nav>

    <section id='content'>
    	<article>
			<header>
				<h3>فهرست</h3>
			</header>
			
			<ul>
				<li><a href="#mainclass" alt="index.php (کلاس اصلی)">index.php (کلاس اصلی)</a></li>
			</ul>
    	</article>
    	
    	<article>
    		<header>
    			<h3>توضیحات</h3>
    		</header>
    		
    		<a name="mainclass" id="mainclass"></a>
    		<h4>index.php (کلاس اصلی)</h4>
    		<p>کلاس صفحه بندی همانطوری که از اسمش پیداست برای صفحه بندی استفاده می شه و یه سری متدهایی برای این کار داره و همینطور متد ای که همه کارها رو واسه ما انجام می ده و در قالب کد html شماره صفحات رو هم تحویل می ده که این متد هم برای راحتی طراحی شده و از دیگر متد ها تو خودش استفاده کرده و استفاده کردن یا نکردن ازش هم اختیاری هست.</p>
    		<br />
    		
    		<h5>پروپرتی ها</h5>
    		<p>همه پروپرتی های کلاس خصوصی هستند.</p>
    		<br />
    		
    		<p>- $firstPageName نام دکمه (لینک) صفحه اول رو تو خودش ذخیره می کنه.</p>
    		<hr />
    		
    		<p>- $lastPageName نام دکمه (لینک) صفحه آخر رو تو خودش ذخیره می کنه.</p>
    		<hr />
    		
    		<p>- $nextPageName نام دکمه (لینک) صفحه بعد رو تو خودش ذخیره می کنه.</p>
    		<hr />
    		
    		<p>- $previousPageName نام دکمه (لینک) صفحه قبل رو تو خودش ذخیره می کنه.</p>
    		<hr />
    		
    		<p>- $urlQueryStringName نام کوئری استیرینگ صفحه رو در خودش ذخیره می کنه که توسط برنامه نویس قبل قبل از استفاده توسط متد مربوطه تعیین می شه. (مثلاً page, p … در URL که باهاش بتونیم تشخصی بدیم تو کدوم صفحه هستیم.)</p>
    		<hr />
    		
    		<p>$totalItemsToBeShown تعداد کل آیتم هایی که قراره در هر صفحه نمایش داده بشه و به عدد هست و توسط برنامه نویس قبل از استفاده توسط متد مربوطه تعیین می شه.</p>
    		<hr />
    		
    		<p>$totalPages مقدار کل صفحات ای که داریم تو این پروپرتی ذخیره می شه.</p>
    		<hr />
    		
    		<p>- $URLQueryString کل URL بعد از متد (اکشن) رو که می شه توسط تابع func_get_args() دریافت کرد رو تو خودش ذخیره می کنه که هنگام ایجاد شی از کلاس این مقدار رو دریافت می کنه.</p>
    		<hr />
    		
    		<p>- $currentPageNumber شماره صفحه فعلی رو توش ذخیره می کنه.</p>
    		<hr />
    		
    		<p>- $currentPageNumberState برای این استفاده می شه که چک کنه آیا متد currentPageNumber() (که برای دریافت شماره صفحه استفاده می شه ) قبلاً صدا زده شده یا نه که اگه صدا زده شده باشه این پروپرتی مقدار true می گیره که در loop و … باگی که داشت رو رفع کنه!</p>
    		<hr />
    		
    		<p>- $dbQuery برای ذخیره کوئری که قرار برای دیتابیس استفاده بشه رو تو خودش ذخیره کنه که توسط متد initDBQuery() مقدار دهی می شه.</p>
    		<br />
    		
    		<h5>متد ها</h5>
    		<p>- __construct() پارامتر اول متد سازنده مقداری که از تابع func_get_args() می یاد رو می گیره و پارامتر دومی در صورتی که true بهش داده بشه کوئری SET NAMES utf8 ارسال می شه. (پارامتر دوم اختیاری است)</p>
    		<hr />
    		
    		<p>- getContent() برای دریافت تعداد مطالبی است که (تعدادش توسط متد دیگری تعیین می شه) برنامه نویس تعیین کرده و برحسب شماره صفحه هم مقادیر رو نمایش می ده. پارامتر اولیش کوئری رو که قراره به دیتابیس برای پرس و جو ارسال بشه هست و البته اختیاری هست (در صورتی اختیاری هست و خطا نمی ده که توسط متد initDBQuery() کوئری قبلاً تعیین شده باشه )</p>
    		<hr />
    		
    		<p>- initDBQuery() برای تعیین کوئری ای هست که قراره برای پرس و جو به دیتابیس ارسال بشه و مطالب و تعداد شماره صفحات بر حسب همین کوئری هست (که البته اگه از این متد استفاده نشه در متدهایی که شماره صفحات و یا مطالب رو می‌گیرید باید کوئری تعیین بشه.)</p>
    		<hr />
    		
    		<p>- getPageNumbers() برای دریافت لیست شماره صفحات ای که داریم که بر حسب کوئری  و تعداد مطالبی که برای هر صفحه تعیین شده، مقدار برگشتی متد متغیر خواهد بود و آرایه ای رو شامل این اعداد برگشت می ده. پارامتر اول این متد کوئری رو تعیین می کنه و اختیاری هست (در صورتی که وارد نشه باید قبلاً توسط متد initDBQuery() کوئری تعیین شده باشه).</p>
    		<hr />
    		
    		<p>- getStyledPageNumbers() برای دریافت لیست شماره صفحات مثل متد قبلی هست با این تفاوت که بجای اینکه آرایه ای از اعداد رو برگردونه اونها رو در قالب کدهای html و منظم شده برگشت می ده که برای برنامه نویس های تنبل :) می تونه مفید باشه که وقت درست کردنش رو با متدهای کلاس ندارن (که البته برای شکل دهی و شیک و پیک کردنش با css توسط خودبرنامه نویس / طراح باید انجام بشه که این قسمتش رو کلاس به عهده نداره و البته id برای تگ html برای راحتی تعیین شده)  - پارامتر این متد هم مثل متد قبلی هست.</p>
    		<hr />
    		
    		<p>- getNewPageAddress() برای دریافت آدرس کامل شماره صفحه‌ای که بهش می دیم هست و آدرس رو به ما برگشت می ده. پارامتر اول برای تعیین عدد مربوطه هست.</p>
    		<hr />
    		
    		<p>- redirectToNewPage() برای ارسال کاربر به شماره صفحه تعیین شده استفاده می شه. پارامتر اول این متد برای تعیین شماره صفحه مربوطه هست.</p>
    		<hr />
    		
    		<p>- autoRedirectToFirstpage() متد private هست و داخل کلاس استفاده می شه و کاربر رو به صفحه اول هدایت می کنه در برخی شرایط (مثلاً کویری استرینگ صفحه تو URL تعیین شده باشه ولی شماره صفحه تعیین نشده باشه (برای حل باگی که درست می کرد) – و یا در صورتی که مقادیر اشتباهی وارد شده باشه و کمتر از عدد  باشه و یا مقدار وارد شده عدد نباشه).</p>
    		<hr />
    		
    		<p>- autoRedirectToLastPage() متد private هست و  داخل کلاس استفاده می شه و کاربر رو به صفحه آخر هدایت می کنه در مواقعی که مقدار وارد شده برای شماره صفحه بیش از تعداد صفحات مون باشه.</p>
    		<hr />
    		
    		<p>- currentPageNumber() شماره صفحه فعلی رو بر می گردونه.</p>
    		<hr />
    		
    		<p>- initTotalItemToBeShown() با استفاده از این متد می تونید تعیین کنید که چه تعداد مطلبی باید در هر صفحه نمایش داده بشه و این مقدار باید حتماً تعیین بشه. پارامتر اول برای تعیین عدد مربوطه هست.</p>
    		<hr />
    		
    		<p>- initURLQueryStringName() برای تعیین کوئری استیرینگ در URL که قراره برای شناسایی شماره صفحه استفاده بشه و مقدار بعدش شماره صفحه خواهد بود. پارامتر اول string باید باشه.</p>
    		<p>به عنوان مثال در آدرس‌های معمولی برای دریافت شماره صفحه اینطوری عمل می کردیم:</p>
    		<pre class="ltr">http://www.domain.com/?page=50</pre>
    		<p>یا</p>
    		<pre class="ltr">http://www.domain.com/?p=50</pre>
    		<p>که در این فریمورک بجای اینکه اینطوری باشه، باید اینطوری تعیین بشه:</p>
    		<pre class="ltr">http://www.domain.com/controller/method/page/50/</pre>
    		<p>و یا</p>
    		<pre class="ltr">http://www.domain.com/controller/method/p/50/</pre>
    		<p>که page و یا p همون کوئری استیرینک برای دریافت شماره صفحه استفاده می شه.</p>
    		<p>نکته: هر چند بار که این کوئری استیرینگ در صفحه تعیین بشه تأثیری نخواهد داشت و فقط اولین مقدار مورد استفاده قرار می گیره.</p>
    		<hr />
    		
    		<p>- initFirstPageName() برای تعیین نام دکمه (لینک) صفحه اول مورد استفاده قرار می گیره.</p>
    		<hr />
    		
    		<p>- initLastPageName() برای تعیین نام دکمه (لینک) صفحه آخر مورد استفاده قرار می گیره.</p>
    		<hr />
    		
    		<p>- initNextPageName() برای تعیین نام دکمه (لینک) صفحه بعدی مورد استفاده قرار می گیره.</p>
    		<hr />
    		
    		<p>- initPreviousPageName() برای تعیین نام دکمه (لینک) صفحه قبلی مورد استفاده قرار می گیره.</p>
    		<hr />
    		
    		<p>- index() هم برای اینکه از کلاس abctract ای که دارای متدindex بصورت abstract بود ایجاد شده برای جلوگیری از ارسال خطا!</p>
    		<br />
    		
    		<h5>نکات</h5>
    		<p>نکته: متدهایی که با init شروع می شن نیازه هست بعد از ایجاد شی از کلاس استفاده بشن و قبل از استفاده نهایی. و برخی متدها نیازه که حتماً ازشون استفاده بشه در غیر اینصورت با خطا (استثنا) رو برو خواهید شد.</p>
    		<p>نکته: متدی بنام Pagination در application/indexController.php برای نمایش نحوه کار کلاس قرار داره.</p>

    	</article>
    </section>

    <footer>
     <p>&copy; Copyright  by Rastgo Framework 2011</p>
    </footer>
  </div>
</body>
</html>